!function(e){e(["jquery"],function(e,t){var o,a="recycle-bin",n="<div>",l="",r="click",s="hide",i="shown.bs.modal",d="submit",c="eFooter",u=s+".bs.modal",f="input",m="danger",p={OK:"Cancel",True:"False",Yes:"No"},b={},v="modal-body",y=".modal-dialog",h={},g="modal-rec",x={sm:"sm",lg:"lg",xl:"xl"},w="modal-tmp",k={allowContentRecycle:!0,confirmLabel:Object.keys(p)[0],labels:p,loadingHtml:'<h5>Loading...</h5><div class=progress><div class="progress-bar progress-bar-striped active" style="width: 100%"></div></div>',size:l,title:"Attention",autofocus:!1};return(t=t||{}).addLabel=function(e,t){p[e]=t},t.ajax=function(t,a){var n=j();"object"==typeof t&&L(t);var l={async:!0,deferred:n,xhrFields:{withCredentials:!1},loading:!0,title:a||k.title,url:t.url||t,dataType:t.dataType||"text"};t.url&&e.extend(l,t);return e.ajax(l).done(function(e){return o.find("."+v).html(t.success?t.success(e):e),n.resolve(o)}).fail(function(e,a){var r=t.error?t.error(e,a,l):'<div class="alert alert-danger"><strong>XHR Fail: </strong>URL [ '+l.url+"] load fail.</div>";return o.find("."+v).html(r),n.reject(e)}),H(l,a)},t.alert=H,t.close=M,t.confirm=function(t,o){var a=j();"object"==typeof t&&L(t);return H({async:!0,buttons:[{close:!0,click:n,text:p[t.label]?p[t.label]:p[k.confirmLabel],style:t.style&&t.style[0]||m},{close:!0,click:n,text:p[t.label]?t.label:k.confirmLabel,style:t.style&&t.style[1]}],deferred:a,message:t.message||t,onHide:n,size:t.size,title:t.title||o});function n(t){M();var o=e(t.currentTarget).html();return p[o]?a.resolve():a.reject()}},t.emptyBin=function(){return e("#"+a+" > *").remove()},t.iframe=function(t,o){var a=j();"object"==typeof data&&L(data);var n=t.data?Object.keys(t.data).map(function(e){return e+'="'+t.data[e]+'"'}).join(" "):"",l='<div class=modal-body style="position: absolute;width: 100%;background-color: rgba(255,255,255,0.8);height: 100%;">%1%</div><iframe class="embed-responsive-item" frameborder=0 src="%0%" %2% style="width:100%;height:75vh;display:block;"/>'.replace("%0%",t.message||t.url||t).replace("%1%",k.loadingHtml).replace("%2%",n),r=(s="3.0.0",i=e.fn.jquery.split("."),d=s.split("."),c=i[0],u=i[1],f=i[2],m=d[0],p=d[1],b=d[2],m>c||m===c&&p>u||m===c&&p===u&&b>f?e(l).load(v):e(l).on("load",v));var s,i,d,c,u,f,m,p,b;return H({async:!0,buttons:t.buttons||!1,deferred:a,message:r,size:t.size||x.xl,title:t.title||o});function v(){return e(this).parent().find("div."+w).fadeOut(function(){e(this).remove()}),e(".editModal button.save").unbind("click"),e(".editModal button.save").click(function(){e(".editModal iframe").contents().find("form input[type=submit]").click()}),a.resolve()}},t.prompt=function(t,a){var n=j();"object"==typeof t&&L(t);var r,s={deferred:n};"object"==typeof t?e.extend(s,t):(s.message=t,s.title=a);if(s.async=!0,s.buttons)for(var i=0,c=s.buttons.length;i<c;i++)(r=s.buttons[i]).style=(r.style||"default")+" pull-left",r.type=r.type||"button";var u=C([{close:!0,type:"reset",text:p.OK,style:m},{close:!1,type:d,text:k.confirmLabel}].concat(s.buttons||[]));return s.buttons=!1,s.onHide=b,s.message=e('<form role=form style="margin-bottom:0;"><div class=modal-body><label for=prompt-input class=control-label>'+(s.message||l)+'</label><input type=text class=form-control required autocomplete="on" value="'+(s.value||l)+(s.pattern?'" pattern="'+s.pattern:l)+'"></div></form>').append(u).on(d,b),H(s);function b(e){var t=o.find(f).val();return M(),e.type!==d?n.reject(t):n.resolve(t),!1}},t.setId=function(e){z(!0).find(y).prop("id",e)},t.setEModalOptions=L,t.setModalOptions=function(t){return o&&o.remove(),e.extend(h,t)},t.size=x,t.version="1.2.67",t;function j(){var t,o;try{o=require("Q")}catch(e){o=window.Q}return o?t=o.defer():(t=e.Deferred()).promise=t.promise(),t.promise.element=z(!0).find(y),t}function C(t){if(!1===t)return l;var o=e(n).addClass("modal-footer").prop("id",c);if(t)for(var a=0,s=t.length;a<s;a++){var i=t[a],d=e("<button>").addClass("btn btn-"+(i.style||"primary"));for(var u in i)if(i.hasOwnProperty(u))switch(u){case"close":i[u]&&d.attr("data-dismiss","modal").addClass("x");break;case r:var f=i.click.bind(z(!0).find(".modal-content"));d.click(f);break;case"text":d.html(i[u]);break;default:d.attr(u,i[u])}o.append(d)}else o.append('<button class="x btn btn-primary" data-dismiss=modal type=button>Close</button>');return o}function z(t){return o||(e("#"+a).length||e("body").append(e(n).prop("id",a).hide()),o=e('<div class="modal fade editModal" tabindex="-1"><style>.modal-title{display:inline;}.modal-xl{width:96%;}.modal-body{max-height: calc(100vh - 145px);overflow-y: auto;}</style><div class=modal-dialog><div class=modal-content> <div class=modal-header><h5 class=modal-title></h5><span class="close edit-buttons"><button class="save" type=button aria-label="Save"><i class="mdi mdi-content-save"></i></button><button class="x" type=button data-dismiss=modal aria-label="Close"><i class="mdi mdi-close"></i></button></span></div></div></div></div>').on("hidden.bs.modal",O).on(r,"button.x",function(t){var a=e(t.currentTarget);if(a.prop("type")!==d)return o.modal(s);try{if(a.closest("form")[0].checkValidity())return M()}catch(e){return M()}return o})),t&&o?o:(k.autofocus&&o.on(i,function(){e(this).find(f).first().focus()}),o)}function O(){if(o){var e=o.find("."+g).removeClass(g).appendTo("#"+a);o.off(u).off(i).find(".modal-content > div:not(:first-child)").remove(),k.allowContentRecycle&&!b.clone||e.remove()}}function H(t,a){!function(t,o){if(!t)throw new Error("Invalid parameters!");O(),b=t;var a=z(),n="modal-"+(t.size||k.size);a.find(y).removeClass("modal-sm modal-lg modal-xl").addClass(t.size||k.size?n:null),a.find(".modal-title").html((t.title||o||k.title)+" ").append(e("<small>").html(t.subtitle||l)),a.on(u,t.onHide)}(t,a);var r=t.deferred||j();"object"==typeof t&&L(t);var s,d=e(n).append(function(t){var o,a=t.loading?k.loadingHtml:t.message||t;return a.on||a.onclick?(o=!0===t.clone?e(a).clone():e(a)).addClass(t.useBin&&!t.loading?g:w):o=e(n).attr("style","position:relative;word-wrap:break-word;").addClass(v).html(a),t.css&&t.css!==o.css&&o.css(t.css),o}(t),C(t.buttons));return s=d,o.modal(h).find(".modal-content").append(s),t.async||o.on(i,r.resolve),r.promise}function L(t){return e.extend(k,t)}function M(){return o&&o.off(u).modal(s),o}})}("function"==typeof define&&define.amd?define:function(e,t){this.eModal="undefined"!=typeof module&&module.exports?t(require(e[0],{}),module.exports):t(window.$)});